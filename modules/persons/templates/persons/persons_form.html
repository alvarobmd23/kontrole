{% extends "base.html" %}
{% load static %}

{% block title %}Payment Terms - Kontrole by Arguo{% endblock title %}

{% block css %}

<link rel="stylesheet" href="{% static 'css/persons/paymentTerms.css' %}">

{% endblock css %}

{% block content %}

<div class="page-header bg-light pt-1 mb-2">
    <h2 class="text-dark float-start">
        <i class="fa-solid fa-user"></i>
        {% if object %}
            Edit - Person
            <br/>
            {{ object }}      
        {% else %}
            Add - Person
        {% endif %}
    </h2>

</div>

<div class="col"></div>
<div class="col col-10">
    <form method="POST" novalidate>
        {% csrf_token %}
            <div class="form-row">
                <label>
                    <span class="required">Type</span>
                </label>
                {{ form.personType }}
                {% for error in form.personType.errors %}
                    <br/>
                    <span style="color:red">{{ error }}</span>
                {% endfor %}
                <br/>
            </div>
            <div class="form-row">
                <div class="row">
                    <div class="col col-8">
                        <label>
                            <span class="required">Name</span>
                        </label>
                        {{ form.personName }}
                        {% for error in form.personName.errors %}
                            <br/>
                            <span style="color:red">{{ error }}</span>
                        {% endfor %}
                    </div>
                    <div class="col col-4">
                        <label>
                            <span class="required">Taxpayer Registration</span>
                        </label>
                        {{ form.personTaxpayerRegistration }}
                        {% for error in form.personTaxpayerRegistration.errors %}
                            <br/>
                            <span style="color:red">{{ error }}</span>
                        {% endfor %}
                    </div>
                </div>
                <br/>
            </div>
            <div class="form-row">
                <label>
                    <span class="required">Address</span>
                </label>
                {{ form.personAddress }}
                {% for error in form.personAddress.errors %}
                    <br/>
                    <span style="color:red">{{ error }}</span>
                {% endfor %}
                <br/>
            </div>
            <div class="form-row">
                <div class="row">
                    <div class="col col-4">
                        <label>
                            <span class="required">City</span>
                        </label>
                        {{ form.personCity }}
                        {% for error in form.personCity.errors %}
                            <br/>
                            <span style="color:red">{{ error }}</span>
                        {% endfor %}
                    </div>
                    <div class="col col-4">
                        <label>
                            <span class="required">State</span>
                        </label>
                        {{ form.personState }}
                        {% for error in form.personState.errors %}
                            <br/>
                            <span style="color:red">{{ error }}</span>
                        {% endfor %}
                    </div>
                    <div class="col col-4">
                        <label>
                            <span class="required">Country</span>
                        </label>
                        {{ form.personCountry }}
                        {% for error in form.personCountry.errors %}
                            <br/>
                            <span style="color:red">{{ error }}</span>
                        {% endfor %}
                    </div>
                </div>
                <br/>
            </div>
            <div class="form-row">
                <label>
                    <span class="required">Obs</span>
                </label>
                {{ form.personObs }}
                {% for error in form.personObs.errors %}
                    <br/>
                    <span style="color:red">{{ error }}</span>
                {% endfor %}
                <br/>
            </div>

            {{ formset.management_form }}
            <div class="form-row">
                <div class="row pt-3">
                    <h4>
                        Contact 
                        <button type="button" id="add-item" class="btn btn-info btn-sm p-2 rounded-circle text-center">
                            <i class="fa-solid fa-plus"></i>
                        </button>
                    </h4>

                </div>
            </div>
            {% for contact_form in formset %}
                {{ contact_form.management_form }}  
                    <div class="form-group">
                        {{ contact_form.as_p }}
                        {% for error in contact_form.errors %}
                            <span style="color:red">{{ error }}</span>
                        {% endfor %}
                    </div>
            {% endfor %}
            <div class="row float-right">
                <div class="col-sm-12" style="margin-top: 10px;">
                    <div class="form-inline buttons">
                        <button type="submit" class="btn btn-success"><i class="fa-regular fa-circle-check"></i> Save</button>
                        <span class="float-end">
                            <a href="{% url 'persons:persons_list' %}" class="btn btn-danger">
                                <i class="fa-regular fa-circle-xmark"></i> Cancel
                            </a>
                        </span>
                    </div>
                </div>
            </div>
    </form>
</div>
<div class="col"></div>


{% endblock content %}